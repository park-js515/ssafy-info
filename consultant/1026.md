# DB 기본지식2

> 기본지식

- Table : 행(row)과 열(column)로 구성된 2차원 행태(표)로 데이터를 담고 있는 객체
- Contraint: 데이터의 무결성을 지키기 위한 제약조건
- Sequence: 자동 순번 반환 데이터 베이스 객체 (MySql 지원X)
- Function : 특정 목적의 쿼리 작업이 수행하도록 설계된 독립적 블록, 리턴값 1개가 필수로 존재

> 5. View

- 하나 이상의 테이블로부터 쿼리한 데이터의 집합
- 접근이 허용된 자료를 제한적으로 보여주기 위해 사용
- 사용자 편의: 자주 사용하는 복잡한 SELECT Query문을 미리 제작(재사용)
- 기존 테이블 구조를 건드리지 않고 필요 맞는 모습으로 데이터 제공

> 6. (Stored) Procedure

- 하나의 요청으로 여러 SQL문을 실행 (가능)
- 네트워크 소요시간을 줄일 수 있음
- 리턴값 없을 수도 있음
- 리턴값 여러 개 반환 가능

> \*Procedure과 Function의 차이

|                               |          프로시져(Procedure)          |          함수(Function)          |
| :---------------------------: | :-----------------------------------: | :------------------------------: |
|           구현목적            |           특정 작업을 수행            |         특정 계산을 수행         |
|            반환값             | 반드시 필요는 없고, 여러 값 반환 가능 |         반드시 1개 존재          |
| SELECT, WHERE문에서 실행 여부 |               사용 불가               |            사용 가능             |
|           처리장소            |        서버에서 실행(빠른속도)        | 클라이언트(화면)에서 (느린 속도) |

> 7. Trigger

- 어떤 상황이 발생했을 때 미리 정해진 Action이 자동으로 실행
- 특정 테이블에 INSERT, UPDATE, DELETE문이 수행될 때 자동으로 시작
- 변경 전 또는 변경 후의 행을 OLD, NEW라는 가상 변수를 사용하여 읽음

> 8. User / 권한

- MySQL의 사용자
- grant 명령어를 통해 권한 부여
- revoke 명령어를 사용해 권한을 제거
- FLUSH PRIVILEGES;을 통한 권한 반영

> \*TMI - 분기문

- 필요에 따라 일반적인 쿼리문 내에서 분기문을 사용할 수 있음
- SELECT절 뿐만 아니라 WHERE절에서도 분기문 사용 가능

> \*TMI - CURSOR -테이블에서 한 행씩 처리하기 위한 방식

- CURSOR, LOOP, FETCH 등의 구문을 사용
- 성능상 좋지 못해 권장하지 않으며, 실시간 데이터 처리는 매우 위험함

> \*TMI - Event

- MySQL의 scheduler 기능
- 반복 일정에 따라 쿼리 실행

> \*TMI - PIT(Point-In-Time) 복구

- MySQL Binary 로그를 활용하여 특정 시점으로 데이터를 복구
- Binary 로그가 삭제되지 않은 시점에서만 사용 가능
- Binary 로그는 서버 용량을 차지하여 주기적으로 삭제 처리 됨
